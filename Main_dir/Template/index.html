
<html lang="en">
<head>
  <title>Image Caption generator</title>
<link rel="icon" href="/static/favicon.ico" type="image/x-icon">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="static/styles.css"/>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>


{%extends "base.html"%}

{%block content%}


  <nav class="navbar navbar-inverse" style="background-color:rgb(10, 1, 27)">
  <div class="container-fluid" style="height:80px;display:flex;justify-content:center;">
    <div class="navbar-header" >
     <span class="navbar-brand"><img src="/static/logo.png" alt="logo" style="border-radius:10%;"></span><span class="navbar-brand" style="font-size:300%;line-height:normal;font-variant-caps: petite-caps;color:#fff;text-shadow: 3px 3px 0px rgba(147, 152, 150, 0.89);">Image Caption Generator Using CNN and RNN (LSTM)</span>
    </div>
  </div>
</nav>


<div style="display:flex;justify-content:center;align-items:center;margin:20px;">
  <div style="flex:2;height:80vh;display:table-cell;display:flex;vertical-align:middle;text-align:center;" class="frame">
  <img id="uploadPreview" class="chosen_img" src="/static/Post.png" alt="chosen image" style="display:block;margin:auto;max-width:100%;max-height:100%;">
  </div>

  <div style="flex:1;">
  <form action="{{url_for('after')}}"  method='POST' enctype='multipart/form-data'>
  <div style="display:flex;justify-content:center;align-items:center;margin:auto;">

    <div style="margin:10px;border-radius:10px;background:rgb(23,85,171);box-shadow: 10px 10px 5px grey">
    <input id="uploadImage" accept="image/*" onchange="PreviewImage();" type="file" name='file1' style="display:block;color:#fff;margin:10px;">


    <script type="text/javascript">

    function PreviewImage() {
        var oFReader = new FileReader();
        oFReader.readAsDataURL(document.getElementById("uploadImage").files[0]);
        document.getElementById('capgenbtn').disabled=false;

        oFReader.onload = function (oFREvent) {
            document.getElementById("uploadPreview").src = oFREvent.target.result;
        };
    };


<!--    dropContainer.ondragover = dropContainer.ondragenter = function(evt) {-->
<!--  evt.preventDefault();-->
<!--};-->

</script>


  <input type="submit" name="btn" id="capgenbtn" onclick="return filevalidate()"  value='Generate caption' disabled="true" class='btn' style="display:block;color:#000;margin:14px;">
  </div>
  <script type="text/javascript">
  function filevalidate(){
  if(document.getElementById("uploadImage").value != "") {
   return true;
  }
  else{
  alert("Select an image to continue !");
  return false;
  }
  }
  </script>


  </div>
</form>
</div>

</div>
{%endblock%}

</body>